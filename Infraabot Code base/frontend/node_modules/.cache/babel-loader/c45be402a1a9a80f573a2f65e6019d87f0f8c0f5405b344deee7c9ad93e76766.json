{"ast":null,"code":"// // src/App.jsx\n// import React, { useState } from \"react\";\n// import axios from \"axios\";\n// import LayoutCanvas from \"./LayoutCanvas\"; // <-- Import the new component\n// import \"./App.css\";\n\n// function App() {\n//   // Chat state\n//   const [messages, setMessages] = useState([]);\n//   const [input, setInput] = useState(\"\");\n//   const [loading, setLoading] = useState(false);\n//   const [layout, setLayout] = useState([]); // <-- New state for layout\n\n//   // Handle sending a message\n//   const sendMessage = async (e) => {\n//     e.preventDefault();\n//     if (!input.trim()) return;\n\n//     // Add user message to chat\n//     const userMsg = { sender: \"user\", text: input };\n//     setMessages((msgs) => [...msgs, userMsg]);\n//     setLoading(true);\n\n//     try {\n//       // Send to backend\n//       const res = await axios.post(\"http://127.0.0.1:8000/chat\", { prompt: input });\n//       const botMsg = { sender: \"bot\", text: res.data.response };\n//       setMessages((msgs) => [...msgs, botMsg]);\n//       setLayout(res.data.layout || []); // <-- Store layout for rendering\n//     } catch (err) {\n//       setMessages((msgs) => [\n//         ...msgs,\n//         { sender: \"bot\", text: \"Error: Could not reach backend.\" },\n//       ]);\n//       setLayout([]); // <-- Clear layout on error\n//     }\n//     setInput(\"\");\n//     setLoading(false);\n//   };\n\n//   return (\n//     <div className=\"flex h-screen\">\n//       {/* Left: Chat Window */}\n//       <div className=\"w-1/3 border-r border-gray-200 flex flex-col bg-white\">\n//         <h2 className=\"text-2xl font-bold m-4\">Infraabot Chat</h2>\n//         <div className=\"flex-1 overflow-y-auto p-4 space-y-2\">\n//           {messages.map((msg, idx) => (\n//             <div\n//               key={idx}\n//               className={`p-2 rounded ${\n//                 msg.sender === \"user\"\n//                   ? \"bg-blue-100 text-right ml-8\"\n//                   : \"bg-gray-100 text-left mr-8\"\n//               }`}\n//             >\n//               {msg.text}\n//             </div>\n//           ))}\n//           {loading && <div className=\"text-gray-400\">Infraabot is typing...</div>}\n//         </div>\n//         <form onSubmit={sendMessage} className=\"p-4 flex gap-2 border-t\">\n//           <input\n//             className=\"flex-1 border rounded px-2 py-1\"\n//             type=\"text\"\n//             value={input}\n//             onChange={(e) => setInput(e.target.value)}\n//             placeholder=\"Type your message...\"\n//             disabled={loading}\n//           />\n//           <button\n//             className=\"bg-blue-600 text-white px-4 py-1 rounded disabled:opacity-50\"\n//             type=\"submit\"\n//             disabled={loading || !input.trim()}\n//           >\n//             Send\n//           </button>\n//         </form>\n//       </div>\n\n//       {/* Right: Layout Canvas */}\n//       <div className=\"w-2/3 flex flex-col bg-gray-50\">\n//         <h2 className=\"text-2xl font-bold m-4\">Layout Preview</h2>\n//         <div className=\"flex-1 flex items-center justify-center\">\n//           {layout.length > 0 ? (\n//             <LayoutCanvas layout={layout} />\n//           ) : (\n//             <div className=\"text-gray-400 text-lg\">\n//               Send a prompt to see your layout!\n//             </div>\n//           )}\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default App;","map":{"version":3,"names":[],"sources":["C:/Users/LENOVO/Desktop/INFRAMINDS/ChatBot/frontend/src/App.jsx"],"sourcesContent":["// // src/App.jsx\n// import React, { useState } from \"react\";\n// import axios from \"axios\";\n// import LayoutCanvas from \"./LayoutCanvas\"; // <-- Import the new component\n// import \"./App.css\";\n\n// function App() {\n//   // Chat state\n//   const [messages, setMessages] = useState([]);\n//   const [input, setInput] = useState(\"\");\n//   const [loading, setLoading] = useState(false);\n//   const [layout, setLayout] = useState([]); // <-- New state for layout\n\n//   // Handle sending a message\n//   const sendMessage = async (e) => {\n//     e.preventDefault();\n//     if (!input.trim()) return;\n\n//     // Add user message to chat\n//     const userMsg = { sender: \"user\", text: input };\n//     setMessages((msgs) => [...msgs, userMsg]);\n//     setLoading(true);\n\n//     try {\n//       // Send to backend\n//       const res = await axios.post(\"http://127.0.0.1:8000/chat\", { prompt: input });\n//       const botMsg = { sender: \"bot\", text: res.data.response };\n//       setMessages((msgs) => [...msgs, botMsg]);\n//       setLayout(res.data.layout || []); // <-- Store layout for rendering\n//     } catch (err) {\n//       setMessages((msgs) => [\n//         ...msgs,\n//         { sender: \"bot\", text: \"Error: Could not reach backend.\" },\n//       ]);\n//       setLayout([]); // <-- Clear layout on error\n//     }\n//     setInput(\"\");\n//     setLoading(false);\n//   };\n\n//   return (\n//     <div className=\"flex h-screen\">\n//       {/* Left: Chat Window */}\n//       <div className=\"w-1/3 border-r border-gray-200 flex flex-col bg-white\">\n//         <h2 className=\"text-2xl font-bold m-4\">Infraabot Chat</h2>\n//         <div className=\"flex-1 overflow-y-auto p-4 space-y-2\">\n//           {messages.map((msg, idx) => (\n//             <div\n//               key={idx}\n//               className={`p-2 rounded ${\n//                 msg.sender === \"user\"\n//                   ? \"bg-blue-100 text-right ml-8\"\n//                   : \"bg-gray-100 text-left mr-8\"\n//               }`}\n//             >\n//               {msg.text}\n//             </div>\n//           ))}\n//           {loading && <div className=\"text-gray-400\">Infraabot is typing...</div>}\n//         </div>\n//         <form onSubmit={sendMessage} className=\"p-4 flex gap-2 border-t\">\n//           <input\n//             className=\"flex-1 border rounded px-2 py-1\"\n//             type=\"text\"\n//             value={input}\n//             onChange={(e) => setInput(e.target.value)}\n//             placeholder=\"Type your message...\"\n//             disabled={loading}\n//           />\n//           <button\n//             className=\"bg-blue-600 text-white px-4 py-1 rounded disabled:opacity-50\"\n//             type=\"submit\"\n//             disabled={loading || !input.trim()}\n//           >\n//             Send\n//           </button>\n//         </form>\n//       </div>\n\n//       {/* Right: Layout Canvas */}\n//       <div className=\"w-2/3 flex flex-col bg-gray-50\">\n//         <h2 className=\"text-2xl font-bold m-4\">Layout Preview</h2>\n//         <div className=\"flex-1 flex items-center justify-center\">\n//           {layout.length > 0 ? (\n//             <LayoutCanvas layout={layout} />\n//           ) : (\n//             <div className=\"text-gray-400 text-lg\">\n//               Send a prompt to see your layout!\n//             </div>\n//           )}\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default App;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}